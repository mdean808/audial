import{S as Ve,i as Be,s as Ke,l as E,F as he,m as F,n as v,G as me,h,p as c,q as $e,b as A,H as p,E as de,a as j,c as U,w as De,x as Ae,y as qe,I as Z,f as P,t as J,B as Le,J as gt,K as Oe,o as Fl,r as B,u as K,v as te,P as Ne,a8 as Qt,g as Ie,d as Se,e as W,a9 as Pe,a1 as Re,a3 as je,a4 as Ue,a5 as He,aa as ht,ab as tn,M as ln,R as Cl,T as Tl,ac as nn,ad as sn}from"./index-82e3b787.js";import{t as X,c as Q,b as be,s as ze,e as ye,i as Xt,p as on,d as Nl,l as rn,f as an,g as et,h as Zt}from"./util-b8b9fcc5.js";import{p as mt,B as bt,t as un}from"./Button-88d2cbd5.js";function fn(n){let e,t,s;return{c(){e=E("div"),t=he("svg"),s=he("circle"),this.h()},l(l){e=F(l,"DIV",{class:!0});var o=v(e);t=me(o,"svg",{class:!0,height:!0,preserveAspectRatio:!0,style:!0,viewBox:!0,width:!0,xmlns:!0});var i=v(t);s=me(i,"circle",{cx:!0,cy:!0,fill:!0,r:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),v(s).forEach(h),i.forEach(h),o.forEach(h),this.h()},h(){c(s,"cx","50"),c(s,"cy","50"),c(s,"fill","none"),c(s,"r","38"),c(s,"stroke","currentColor"),c(s,"stroke-dasharray","179.0707812546182 61.690260418206066"),c(s,"stroke-width","7"),c(t,"class","animate-spin"),c(t,"height","100px"),c(t,"preserveAspectRatio","xMidYMid"),$e(t,"margin","auto"),$e(t,"background","transparent"),$e(t,"display","block"),$e(t,"shape-rendering","auto"),c(t,"viewBox","0 0 100 100"),c(t,"width","100px"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","w-full mx-auto text-center mt-20 text-blue-600")},m(l,o){A(l,e,o),p(e,t),p(t,s)},p:de,i:de,o:de,d(l){l&&h(e)}}}class os extends Ve{constructor(e){super(),Be(this,e,null,fn,Ke,{})}}function cn(n){let e,t,s,l,o,i,r,u,f,m,g,b,k,_,d,I,S,y;return{c(){e=E("div"),t=E("div"),l=j(),o=E("div"),r=j(),u=E("div"),m=j(),g=E("div"),k=j(),_=E("div"),I=j(),S=E("div"),this.h()},l(V){e=F(V,"DIV",{class:!0});var M=v(e);t=F(M,"DIV",{class:!0}),v(t).forEach(h),l=U(M),o=F(M,"DIV",{class:!0}),v(o).forEach(h),r=U(M),u=F(M,"DIV",{class:!0}),v(u).forEach(h),m=U(M),g=F(M,"DIV",{class:!0}),v(g).forEach(h),k=U(M),_=F(M,"DIV",{class:!0}),v(_).forEach(h),I=U(M),S=F(M,"DIV",{class:!0}),v(S).forEach(h),M.forEach(h),this.h()},h(){c(t,"class",s=`w-2/12 ${n[1](0,n[0].attempts)} border-r border-l`),c(o,"class",i=`w-2/12 ${n[1](1,n[0].attempts)} border-r border-l`),c(u,"class",f=`w-4/12 ${n[1](2,n[0].attempts)} border-r border-l`),c(g,"class",b=`w-4/12 ${n[1](3,n[0].attempts)} border-r border-l`),c(_,"class",d=`w-6/12 ${n[1](4,n[0].attempts)} border-r border-l`),c(S,"class",y=`w-6/12 ${n[1](5,n[0].attempts)} border-r border-l`),c(e,"class","max-w-3xl mx-auto flex h-3")},m(V,M){A(V,e,M),p(e,t),p(e,l),p(e,o),p(e,r),p(e,u),p(e,m),p(e,g),p(e,k),p(e,_),p(e,I),p(e,S)},p(V,[M]){M&1&&s!==(s=`w-2/12 ${V[1](0,V[0].attempts)} border-r border-l`)&&c(t,"class",s),M&1&&i!==(i=`w-2/12 ${V[1](1,V[0].attempts)} border-r border-l`)&&c(o,"class",i),M&1&&f!==(f=`w-4/12 ${V[1](2,V[0].attempts)} border-r border-l`)&&c(u,"class",f),M&1&&b!==(b=`w-4/12 ${V[1](3,V[0].attempts)} border-r border-l`)&&c(g,"class",b),M&1&&d!==(d=`w-6/12 ${V[1](4,V[0].attempts)} border-r border-l`)&&c(_,"class",d),M&1&&y!==(y=`w-6/12 ${V[1](5,V[0].attempts)} border-r border-l`)&&c(S,"class",y)},i:de,o:de,d(V){V&&h(e)}}}function dn(n,e,t){let{attempt:s}=e;const l=(o,i)=>{let r="bg-black opacity-40";return i===o&&!s.correct?r="bg-blue-500":i===o+1&&s.correct?r="bg-green-600":i>o&&s.guesses[o].artistCorrect?r="bg-amber-400":i>o&&!s.guesses[o].song?r="bg-gray-500":i>o&&(r="bg-red-600"),r};return n.$$set=o=>{"attempt"in o&&t(0,s=o.attempt)},[s,l]}class hn extends Ve{constructor(e){super(),Be(this,e,dn,cn,Ke,{attempt:0})}}function xt(n){let e,t;return{c(){e=E("div"),t=B(n[4]),this.h()},l(s){e=F(s,"DIV",{class:!0});var l=v(e);t=K(l,n[4]),l.forEach(h),this.h()},h(){c(e,"class","flex flex-1 justify-start font-mono")},m(s,l){A(s,e,l),p(e,t)},p(s,l){l&16&&te(t,s[4])},d(s){s&&h(e)}}}function $t(n){let e,t=Math.floor(n[3]/60)+":"+(Math.round(n[3]%60)<10?"0"+Math.round(n[3]%60):Math.round(n[3]%60)),s;return{c(){e=E("div"),s=B(t),this.h()},l(l){e=F(l,"DIV",{class:!0});var o=v(e);s=K(o,t),o.forEach(h),this.h()},h(){c(e,"class","flex flex-1 justify-end font-mono")},m(l,o){A(l,e,o),p(e,s)},p(l,o){o&8&&t!==(t=Math.floor(l[3]/60)+":"+(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60)))&&te(s,t)},d(l){l&&h(e)}}}function mn(n){let e,t,s,l,o,i,r,u,f,m,g,b,k,_,d,I,S,y,V,M,oe,le,H;s=new hn({props:{attempt:n[1]}});let L=n[0]&&xt(n),q=n[0]&&$t(n);return{c(){e=E("footer"),t=E("div"),De(s.$$.fragment),l=j(),o=E("div"),i=E("div"),L&&L.c(),r=j(),u=E("div"),f=E("button"),m=he("svg"),g=he("path"),b=he("path"),_=j(),d=E("button"),I=he("svg"),S=he("path"),y=he("path"),M=j(),q&&q.c(),this.h()},l(G){e=F(G,"FOOTER",{class:!0});var R=v(e);t=F(R,"DIV",{class:!0});var ae=v(t);Ae(s.$$.fragment,ae),ae.forEach(h),l=U(R),o=F(R,"DIV",{class:!0});var w=v(o);i=F(w,"DIV",{class:!0});var N=v(i);L&&L.l(N),r=U(N),u=F(N,"DIV",{class:!0});var $=v(u);f=F($,"BUTTON",{class:!0,title:!0});var ne=v(f);m=me(ne,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var ue=v(m);g=me(ue,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),v(g).forEach(h),b=me(ue,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),v(b).forEach(h),ue.forEach(h),ne.forEach(h),_=U($),d=F($,"BUTTON",{class:!0,title:!0});var pe=v(d);I=me(pe,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0});var we=v(I);S=me(we,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(S).forEach(h),y=me(we,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(y).forEach(h),we.forEach(h),pe.forEach(h),$.forEach(h),M=U(N),q&&q.l(N),N.forEach(h),w.forEach(h),R.forEach(h),this.h()},h(){c(t,"class","border-b"),c(g,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),c(g,"stroke-linecap","round"),c(g,"stroke-linejoin","round"),c(g,"stroke-width","2"),c(b,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),c(b,"stroke-linecap","round"),c(b,"stroke-linejoin","round"),c(b,"stroke-width","2"),c(m,"class","w-14 h-14 mx-auto"),c(m,"fill","none"),c(m,"stroke","currentColor"),c(m,"viewBox","0 0 24 24"),c(m,"xmlns","http://www.w3.org/2000/svg"),c(f,"class",k=`hover:text-blue-600 transition-colors duration-200 ${n[2]?"":"hidden"}`),c(f,"title","Play Song"),c(S,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),c(S,"stroke-linecap","round"),c(S,"stroke-linejoin","round"),c(y,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),c(y,"stroke-linecap","round"),c(y,"stroke-linejoin","round"),c(I,"class","w-14 h-14 mx-auto"),c(I,"fill","none"),c(I,"stroke","currentColor"),c(I,"stroke-width","2"),c(I,"viewBox","0 0 24 24"),c(I,"xmlns","http://www.w3.org/2000/svg"),c(d,"class",V=`hover:text-blue-600 transition-colors duration-200 ${n[2]?"hidden":""}`),c(d,"title","Pause Song"),c(u,"class","text-center flex-1 justify-center"),c(i,"class","flex justify-evenly items-center w-full"),c(o,"class","max-w-screen-md mx-auto p-3"),c(e,"class","border-t border-white bottom-0 w-full fixed bg-gray-800")},m(G,R){A(G,e,R),p(e,t),qe(s,t,null),p(e,l),p(e,o),p(o,i),L&&L.m(i,null),p(i,r),p(i,u),p(u,f),p(f,m),p(m,g),p(m,b),p(u,_),p(u,d),p(d,I),p(I,S),p(I,y),p(i,M),q&&q.m(i,null),oe=!0,le||(H=[Z(f,"click",n[5]),Z(d,"click",n[6])],le=!0)},p(G,[R]){const ae={};R&2&&(ae.attempt=G[1]),s.$set(ae),G[0]?L?L.p(G,R):(L=xt(G),L.c(),L.m(i,r)):L&&(L.d(1),L=null),(!oe||R&4&&k!==(k=`hover:text-blue-600 transition-colors duration-200 ${G[2]?"":"hidden"}`))&&c(f,"class",k),(!oe||R&4&&V!==(V=`hover:text-blue-600 transition-colors duration-200 ${G[2]?"hidden":""}`))&&c(d,"class",V),G[0]?q?q.p(G,R):(q=$t(G),q.c(),q.m(i,null)):q&&(q.d(1),q=null)},i(G){oe||(P(s.$$.fragment,G),oe=!0)},o(G){J(s.$$.fragment,G),oe=!1},d(G){G&&h(e),Le(s),L&&L.d(),q&&q.d(),le=!1,gt(H)}}}function _n(n,e,t){let s;Oe(n,mt,d=>t(11,s=d));let l,o={attempts:0,guesses:[],correct:!1,date:new Date},i=!0,r=0,u="0:00",f,m,{custom:g=!1}=e,b="/";mt.subscribe(d=>{d.url.pathname!==b&&l&&(clearTimeout(m),l.pause(),l.remove()),b=d.url.pathname}),Fl(()=>{b=s.url.pathname,g?(t(1,o=X.get()),X.listen(d=>t(1,o=d))):(t(1,o=Q.get()),Q.listen(d=>t(1,o=d))),t(0,l=new Audio(be.get().preview)),l.addEventListener("loadedmetadata",()=>t(3,r=l.duration)),navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",()=>null),navigator.mediaSession.setActionHandler("pause",()=>null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",()=>null))}),be.listen(d=>{l.remove(),t(0,l=new Audio(d.preview))}),ze.listen(d=>t(2,i=d));const k=()=>{ye.track("play-song"),ze.set(!1),l.play(),t(4,u="0:00");let d;const I=.08333333;switch(o.attempts){case 0:d=I;break;case 1:d=I*2;break;case 2:d=I*4;break;case 3:d=.5;break;case 4:d=.75;break;default:d=1;break}const S=o.correct?l.duration*1e3:l.duration/2*1e3*d;m=setTimeout(()=>{l.pause(),t(0,l.currentTime=0,l),ze.set(!0),clearInterval(f)},S),f=setInterval(()=>{t(4,u=`${Math.floor(l.currentTime/60)}:${l.currentTime%60<10?"0"+Math.round(l.currentTime%60):Math.round(l.currentTime%60)}`)},1e3)},_=()=>{l.pause(),t(0,l.currentTime=0,l),ze.set(!0)};return n.$$set=d=>{"custom"in d&&t(7,g=d.custom)},[l,o,i,r,u,k,_,g]}class is extends Ve{constructor(e){super(),Be(this,e,_n,mn,Ke,{custom:7})}}const gn=n=>({noResultsText:n[0]&2048}),el=n=>({noResultsText:n[11]}),bn=n=>({createText:n[0]&16384}),tl=n=>({createText:n[14]}),pn=n=>({loadingText:n[0]&4096}),ll=n=>({loadingText:n[12]});function nl(n,e,t){const s=n.slice();return s[116]=e[t],s[118]=t,s}const wn=n=>({item:n[1]&1,label:n[1]&1}),sl=n=>({item:n[116].item,label:n[116].highlighted?n[116].highlighted:n[116].label});function ol(n,e,t){const s=n.slice();return s[119]=e[t],s}const kn=n=>({label:n[0]&2,item:n[0]&2}),il=n=>({label:n[38](n[119]),item:n[119],unselectItem:n[45]});function rl(n,e,t){const s=n.slice();return s[118]=e[t],s}function vn(n){let e,t=n[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=al(rl(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=W()},l(l){for(let o=0;o<s.length;o+=1)s[o].l(l);e=W()},m(l,o){for(let i=0;i<s.length;i+=1)s[i].m(l,o);A(l,e,o)},p(l,o){if(o[0]&18|o[1]&128){t=l[1];let i;for(i=0;i<t.length;i+=1){const r=rl(l,t,i);s[i]?s[i].p(r,o):(s[i]=al(r),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(l){Pe(s,l),l&&h(e)}}}function yn(n){let e,t;return{c(){e=E("option"),t=B(n[3]),this.h()},l(s){e=F(s,"OPTION",{class:!0});var l=v(e);t=K(l,n[3]),l.forEach(h),this.h()},h(){e.__value=n[2],e.value=e.__value,e.selected=!0,c(e,"class","svelte-1nqq7zl")},m(s,l){A(s,e,l),p(e,t)},p(s,l){l[0]&8&&te(t,s[3]),l[0]&4&&(e.__value=s[2],e.value=e.__value)},d(s){s&&h(e)}}}function al(n){let e,t=n[38](n[118])+"",s,l,o;return{c(){e=E("option"),s=B(t),l=j(),this.h()},l(i){e=F(i,"OPTION",{class:!0});var r=v(e);s=K(r,t),l=U(r),r.forEach(h),this.h()},h(){e.__value=o=n[4](n[118],!0),e.value=e.__value,e.selected=!0,c(e,"class","svelte-1nqq7zl")},m(i,r){A(i,e,r),p(e,s),p(e,l)},p(i,r){r[0]&2&&t!==(t=i[38](i[118])+"")&&te(s,t),r[0]&18&&o!==(o=i[4](i[118],!0))&&(e.__value=o,e.value=e.__value)},d(i){i&&h(e)}}}function ul(n){let e,t,s=n[1],l=[];for(let i=0;i<s.length;i+=1)l[i]=fl(ol(n,s,i));const o=i=>J(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=W()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);e=W()},m(i,r){for(let u=0;u<l.length;u+=1)l[u].m(i,r);A(i,e,r),t=!0},p(i,r){if(r[0]&2|r[1]&16512|r[2]&1048576){s=i[1];let u;for(u=0;u<s.length;u+=1){const f=ol(i,s,u);l[u]?(l[u].p(f,r),P(l[u],1)):(l[u]=fl(f),l[u].c(),P(l[u],1),l[u].m(e.parentNode,e))}for(Ie(),u=s.length;u<l.length;u+=1)o(u);Se()}},i(i){if(!t){for(let r=0;r<s.length;r+=1)P(l[r]);t=!0}},o(i){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)J(l[r]);t=!1},d(i){Pe(l,i),i&&h(e)}}}function In(n){let e,t,s=n[38](n[119])+"",l,o,i,r,u,f;return{c(){e=E("div"),t=E("span"),l=B(s),o=j(),i=E("span"),r=j(),this.h()},l(m){e=F(m,"DIV",{class:!0});var g=v(e);t=F(g,"SPAN",{class:!0});var b=v(t);l=K(b,s),b.forEach(h),o=U(g),i=F(g,"SPAN",{class:!0}),v(i).forEach(h),g.forEach(h),r=U(m),this.h()},h(){c(t,"class","tag svelte-1nqq7zl"),c(i,"class","tag is-delete svelte-1nqq7zl"),c(e,"class","tags has-addons svelte-1nqq7zl")},m(m,g){A(m,e,g),p(e,t),p(t,l),p(e,o),p(e,i),A(m,r,g),u||(f=Z(i,"click",tn(function(){ln(n[45](n[119]))&&n[45](n[119]).apply(this,arguments)})),u=!0)},p(m,g){n=m,g[0]&2&&s!==(s=n[38](n[119])+"")&&te(l,s)},d(m){m&&h(e),m&&h(r),u=!1,f()}}}function fl(n){let e;const t=n[83].tag,s=Re(t,n,n[82],il),l=s||In(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,i){l&&l.m(o,i),e=!0},p(o,i){s?s.p&&(!e||i[0]&2|i[2]&1048576)&&je(s,t,o,o[82],e?He(t,o[82],i,kn):Ue(o[82]),il):l&&l.p&&(!e||i[0]&2)&&l.p(o,e?i:[-1,-1,-1,-1])},i(o){e||(P(l,o),e=!0)},o(o){J(l,o),e=!1},d(o){l&&l.d(o)}}}function cl(n){let e,t,s,l;return{c(){e=E("span"),t=B("\u2716"),this.h()},l(o){e=F(o,"SPAN",{class:!0});var i=v(e);t=K(i,"\u2716"),i.forEach(h),this.h()},h(){c(e,"class","autocomplete-clear-button svelte-1nqq7zl")},m(o,i){A(o,e,i),p(e,t),s||(l=Z(e,"click",n[49]),s=!0)},p:de,d(o){o&&h(e),s=!1,l()}}}function Sn(n){let e,t;const s=n[83]["no-results"],l=Re(s,n,n[82],el),o=l||Tn(n);return{c(){e=E("div"),o&&o.c(),this.h()},l(i){e=F(i,"DIV",{class:!0});var r=v(e);o&&o.l(r),r.forEach(h),this.h()},h(){c(e,"class","autocomplete-list-item-no-results svelte-1nqq7zl")},m(i,r){A(i,e,r),o&&o.m(e,null),t=!0},p(i,r){l?l.p&&(!t||r[0]&2048|r[2]&1048576)&&je(l,s,i,i[82],t?He(s,i[82],r,gn):Ue(i[82]),el):o&&o.p&&(!t||r[0]&2048)&&o.p(i,t?r:[-1,-1,-1,-1])},i(i){t||(P(o,i),t=!0)},o(i){J(o,i),t=!1},d(i){i&&h(e),o&&o.d(i)}}}function En(n){let e,t,s,l;const o=n[83].create,i=Re(o,n,n[82],tl),r=i||Nn(n);return{c(){e=E("div"),r&&r.c(),this.h()},l(u){e=F(u,"DIV",{class:!0});var f=v(e);r&&r.l(f),f.forEach(h),this.h()},h(){c(e,"class","autocomplete-list-item-create svelte-1nqq7zl")},m(u,f){A(u,e,f),r&&r.m(e,null),t=!0,s||(l=Z(e,"click",n[39]),s=!0)},p(u,f){i?i.p&&(!t||f[0]&16384|f[2]&1048576)&&je(i,o,u,u[82],t?He(o,u[82],f,bn):Ue(u[82]),tl):r&&r.p&&(!t||f[0]&16384)&&r.p(u,t?f:[-1,-1,-1,-1])},i(u){t||(P(r,u),t=!0)},o(u){J(r,u),t=!1},d(u){u&&h(e),r&&r.d(u),s=!1,l()}}}function Fn(n){let e,t;const s=n[83].loading,l=Re(s,n,n[82],ll),o=l||Dn(n);return{c(){e=E("div"),o&&o.c(),this.h()},l(i){e=F(i,"DIV",{class:!0});var r=v(e);o&&o.l(r),r.forEach(h),this.h()},h(){c(e,"class","autocomplete-list-item-loading svelte-1nqq7zl")},m(i,r){A(i,e,r),o&&o.m(e,null),t=!0},p(i,r){l?l.p&&(!t||r[0]&4096|r[2]&1048576)&&je(l,s,i,i[82],t?He(s,i[82],r,pn):Ue(i[82]),ll):o&&o.p&&(!t||r[0]&4096)&&o.p(i,t?r:[-1,-1,-1,-1])},i(i){t||(P(o,i),t=!0)},o(i){J(o,i),t=!1},d(i){i&&h(e),o&&o.d(i)}}}function Cn(n){let e,t,s,l=n[31],o=[];for(let u=0;u<l.length;u+=1)o[u]=hl(nl(n,l,u));const i=u=>J(o[u],1,1,()=>{o[u]=null});let r=n[5]>0&&n[31].length>n[5]&&ml(n);return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=j(),r&&r.c(),t=W()},l(u){for(let f=0;f<o.length;f+=1)o[f].l(u);e=U(u),r&&r.l(u),t=W()},m(u,f){for(let m=0;m<o.length;m+=1)o[m].m(u,f);A(u,e,f),r&&r.m(u,f),A(u,t,f),s=!0},p(u,f){if(f[0]&1073741856|f[1]&524801|f[2]&1048576){l=u[31];let m;for(m=0;m<l.length;m+=1){const g=nl(u,l,m);o[m]?(o[m].p(g,f),P(o[m],1)):(o[m]=hl(g),o[m].c(),P(o[m],1),o[m].m(e.parentNode,e))}for(Ie(),m=l.length;m<o.length;m+=1)i(m);Se()}u[5]>0&&u[31].length>u[5]?r?r.p(u,f):(r=ml(u),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i(u){if(!s){for(let f=0;f<l.length;f+=1)P(o[f]);s=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)J(o[f]);s=!1},d(u){Pe(o,u),u&&h(e),r&&r.d(u),u&&h(t)}}}function Tn(n){let e;return{c(){e=B(n[11])},l(t){e=K(t,n[11])},m(t,s){A(t,e,s)},p(t,s){s[0]&2048&&te(e,t[11])},d(t){t&&h(e)}}}function Nn(n){let e;return{c(){e=B(n[14])},l(t){e=K(t,n[14])},m(t,s){A(t,e,s)},p(t,s){s[0]&16384&&te(e,t[14])},d(t){t&&h(e)}}}function Dn(n){let e;return{c(){e=B(n[12])},l(t){e=K(t,n[12])},m(t,s){A(t,e,s)},p(t,s){s[0]&4096&&te(e,t[12])},d(t){t&&h(e)}}}function dl(n){let e,t,s,l,o;const i=n[83].item,r=Re(i,n,n[82],sl),u=r||Ln(n);function f(){return n[86](n[116])}function m(){return n[87](n[118])}return{c(){e=E("div"),u&&u.c(),this.h()},l(g){e=F(g,"DIV",{class:!0});var b=v(e);u&&u.l(b),b.forEach(h),this.h()},h(){c(e,"class",t="autocomplete-list-item "+(n[118]===n[30]?"selected":"")+" svelte-1nqq7zl"),Ne(e,"confirmed",n[50](n[116].item))},m(g,b){A(g,e,b),u&&u.m(e,null),s=!0,l||(o=[Z(e,"click",f),Z(e,"pointerenter",m)],l=!0)},p(g,b){n=g,r?r.p&&(!s||b[1]&1|b[2]&1048576)&&je(r,i,n,n[82],s?He(i,n[82],b,wn):Ue(n[82]),sl):u&&u.p&&(!s||b[1]&1)&&u.p(n,s?b:[-1,-1,-1,-1]),(!s||b[0]&1073741824&&t!==(t="autocomplete-list-item "+(n[118]===n[30]?"selected":"")+" svelte-1nqq7zl"))&&c(e,"class",t),b[0]&1073741824|b[1]&524289&&Ne(e,"confirmed",n[50](n[116].item))},i(g){s||(P(u,g),s=!0)},o(g){J(u,g),s=!1},d(g){g&&h(e),u&&u.d(g),l=!1,gt(o)}}}function An(n){let e,t=n[116].label+"",s;return{c(){e=new Cl(!1),s=W(),this.h()},l(l){e=Tl(l,!1),s=W(),this.h()},h(){e.a=s},m(l,o){e.m(t,l,o),A(l,s,o)},p(l,o){o[1]&1&&t!==(t=l[116].label+"")&&e.p(t)},d(l){l&&h(s),l&&e.d()}}}function qn(n){let e,t=n[116].highlighted+"",s;return{c(){e=new Cl(!1),s=W(),this.h()},l(l){e=Tl(l,!1),s=W(),this.h()},h(){e.a=s},m(l,o){e.m(t,l,o),A(l,s,o)},p(l,o){o[1]&1&&t!==(t=l[116].highlighted+"")&&e.p(t)},d(l){l&&h(s),l&&e.d()}}}function Ln(n){let e;function t(o,i){return o[116].highlighted?qn:An}let s=t(n),l=s(n);return{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,i){l.m(o,i),A(o,e,i)},p(o,i){s===(s=t(o))&&l?l.p(o,i):(l.d(1),l=s(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&h(e)}}}function hl(n){let e,t,s=n[116]&&(n[5]<=0||n[118]<n[5])&&dl(n);return{c(){s&&s.c(),e=W()},l(l){s&&s.l(l),e=W()},m(l,o){s&&s.m(l,o),A(l,e,o),t=!0},p(l,o){l[116]&&(l[5]<=0||l[118]<l[5])?s?(s.p(l,o),o[0]&32|o[1]&1&&P(s,1)):(s=dl(l),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(Ie(),J(s,1,1,()=>{s=null}),Se())},i(l){t||(P(s),t=!0)},o(l){J(s),t=!1},d(l){s&&s.d(l),l&&h(e)}}}function ml(n){let e,t=n[13]&&_l(n);return{c(){t&&t.c(),e=W()},l(s){t&&t.l(s),e=W()},m(s,l){t&&t.m(s,l),A(s,e,l)},p(s,l){s[13]?t?t.p(s,l):(t=_l(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&h(e)}}}function _l(n){let e,t,s=n[31].length-n[5]+"",l,o,i;return{c(){e=E("div"),t=B("..."),l=B(s),o=j(),i=B(n[13]),this.h()},l(r){e=F(r,"DIV",{class:!0});var u=v(e);t=K(u,"..."),l=K(u,s),o=U(u),i=K(u,n[13]),u.forEach(h),this.h()},h(){c(e,"class","autocomplete-list-item-no-results svelte-1nqq7zl")},m(r,u){A(r,e,u),p(e,t),p(e,l),p(e,o),p(e,i)},p(r,u){u[0]&32|u[1]&1&&s!==(s=r[31].length-r[5]+"")&&te(l,s),u[0]&8192&&te(i,r[13])},d(r){r&&h(e)}}}function Vn(n){let e,t,s,l,o,i,r,u,f,m,g,b,k,_,d,I,S,y,V,M;function oe(w,N){if(!w[6]&&w[2])return yn;if(w[6]&&w[1])return vn}let le=oe(n),H=le&&le(n),L=n[6]&&n[1]&&ul(n),q=n[35]&&cl(n);const G=[Cn,Fn,En,Sn],R=[];function ae(w,N){return w[31]&&w[31].length>0?0:w[34]&&w[12]?1:w[7]?2:w[11]?3:-1}return~(_=ae(n))&&(d=R[_]=G[_](n)),{c(){e=E("div"),t=E("select"),H&&H.c(),s=j(),l=E("div"),L&&L.c(),o=j(),i=E("input"),g=j(),q&&q.c(),b=j(),k=E("div"),d&&d.c(),this.h()},l(w){e=F(w,"DIV",{class:!0});var N=v(e);t=F(N,"SELECT",{name:!0,id:!0,class:!0});var $=v(t);H&&H.l($),$.forEach(h),s=U(N),l=F(N,"DIV",{class:!0});var ne=v(l);L&&L.l(ne),o=U(ne),i=F(ne,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0,placeholder:!0,name:!0,title:!0,tabindex:!0}),g=U(ne),q&&q.l(ne),ne.forEach(h),b=U(N),k=F(N,"DIV",{class:!0});var ue=v(k);d&&d.l(ue),ue.forEach(h),N.forEach(h),this.h()},h(){c(t,"name",n[20]),c(t,"id",n[21]),t.multiple=n[6],c(t,"class","svelte-1nqq7zl"),c(i,"type","text"),c(i,"class",r=(n[17]?n[17]:"")+" "+(n[27]?"":"input autocomplete-input")+" svelte-1nqq7zl"),c(i,"id",u=n[18]?n[18]:""),c(i,"autocomplete",f=n[23]?"on":"off"),c(i,"placeholder",n[15]),c(i,"name",n[19]),i.disabled=n[26],i.required=n[28],c(i,"title",n[22]),i.readOnly=m=n[24]||n[8]&&n[1],c(i,"tabindex",n[29]),c(l,"class","input-container svelte-1nqq7zl"),c(k,"class",I=(n[25]?n[25]:"")+" autocomplete-list "+(n[36]?"":"hidden")+" is-fullwidth svelte-1nqq7zl"),c(e,"class",S=(n[16]?n[16]:"")+" "+(n[9]||!n[0].length?"hide-arrow":"")+" "+(n[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+n[37]+" svelte-1nqq7zl"),Ne(e,"show-clear",n[35]),Ne(e,"is-loading",n[10]&&n[34])},m(w,N){A(w,e,N),p(e,t),H&&H.m(t,null),p(e,s),p(e,l),L&&L.m(l,null),p(l,o),p(l,i),n[84](i),Qt(i,n[3]),p(l,g),q&&q.m(l,null),p(e,b),p(e,k),~_&&R[_].m(k,null),n[88](k),y=!0,V||(M=[Z(window,"click",n[41]),Z(i,"input",n[85]),Z(i,"input",n[44]),Z(i,"focus",n[47]),Z(i,"blur",n[48]),Z(i,"keydown",n[42]),Z(i,"click",n[46]),Z(i,"keypress",n[43])],V=!0)},p(w,N){le===(le=oe(w))&&H?H.p(w,N):(H&&H.d(1),H=le&&le(w),H&&(H.c(),H.m(t,null))),(!y||N[0]&1048576)&&c(t,"name",w[20]),(!y||N[0]&2097152)&&c(t,"id",w[21]),(!y||N[0]&64)&&(t.multiple=w[6]),w[6]&&w[1]?L?(L.p(w,N),N[0]&66&&P(L,1)):(L=ul(w),L.c(),P(L,1),L.m(l,o)):L&&(Ie(),J(L,1,1,()=>{L=null}),Se()),(!y||N[0]&134348800&&r!==(r=(w[17]?w[17]:"")+" "+(w[27]?"":"input autocomplete-input")+" svelte-1nqq7zl"))&&c(i,"class",r),(!y||N[0]&262144&&u!==(u=w[18]?w[18]:""))&&c(i,"id",u),(!y||N[0]&8388608&&f!==(f=w[23]?"on":"off"))&&c(i,"autocomplete",f),(!y||N[0]&32768)&&c(i,"placeholder",w[15]),(!y||N[0]&524288)&&c(i,"name",w[19]),(!y||N[0]&67108864)&&(i.disabled=w[26]),(!y||N[0]&268435456)&&(i.required=w[28]),(!y||N[0]&4194304)&&c(i,"title",w[22]),(!y||N[0]&16777474&&m!==(m=w[24]||w[8]&&w[1]))&&(i.readOnly=m),(!y||N[0]&536870912)&&c(i,"tabindex",w[29]),N[0]&8&&i.value!==w[3]&&Qt(i,w[3]),w[35]?q?q.p(w,N):(q=cl(w),q.c(),q.m(l,null)):q&&(q.d(1),q=null);let $=_;_=ae(w),_===$?~_&&R[_].p(w,N):(d&&(Ie(),J(R[$],1,1,()=>{R[$]=null}),Se()),~_?(d=R[_],d?d.p(w,N):(d=R[_]=G[_](w),d.c()),P(d,1),d.m(k,null)):d=null),(!y||N[0]&33554432|N[1]&32&&I!==(I=(w[25]?w[25]:"")+" autocomplete-list "+(w[36]?"":"hidden")+" is-fullwidth svelte-1nqq7zl"))&&c(k,"class",I),(!y||N[0]&66113&&S!==(S=(w[16]?w[16]:"")+" "+(w[9]||!w[0].length?"hide-arrow":"")+" "+(w[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+w[37]+" svelte-1nqq7zl"))&&c(e,"class",S),N[0]&66113|N[1]&16&&Ne(e,"show-clear",w[35]),N[0]&67137|N[1]&8&&Ne(e,"is-loading",w[10]&&w[34])},i(w){y||(P(L),P(d),y=!0)},o(w){J(L),J(d),y=!1},d(w){w&&h(e),H&&H.d(),L&&L.d(),n[84](null),q&&q.d(),~_&&R[_].d(),n[88](null),V=!1,gt(M)}}}function Bn(n,e){if(typeof n!="function"){console.error("Not a function: "+n+", argument: "+e);return}let t;try{t=n(e)}catch{console.warn("Error executing Autocomplete function on value: "+e+" function: "+n)}return t}function tt(n,e){let t=Bn(n,e);return t==null&&(t=""),typeof t!="string"&&(t=t.toString()),t}function _t(n,e){if(!n)return 0;const t=n.keywords;let s=0;return e.forEach(l=>{t.includes(l)&&s++}),s}function Kn(n,e,t){return _t(e,t)-_t(n,t)}function lt(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Mn(n,e,t){let s,l,{$$slots:o={},$$scope:i}=e,{items:r=[]}=e,{searchFunction:u=!1}=e,{labelFieldName:f=void 0}=e,{keywordsFieldName:m=f}=e,{valueFieldName:g=void 0}=e,{labelFunction:b=function(a){return a==null?"":f?a[f]:a}}=e,{keywordsFunction:k=function(a){return a==null?"":m?a[m]:b(a)}}=e,{valueFunction:_=function(a,C=!1){return a==null?a:!q||C?g?a[g]:a:a.map(T=>g?T[g]:T)}}=e,{keywordsCleanFunction:d=function(a){return a}}=e,{textCleanFunction:I=function(a){return a}}=e,{beforeChange:S=function(a,C){return!0}}=e,{onChange:y=function(a){}}=e,{onFocus:V=function(){}}=e,{onBlur:M=function(){}}=e,{onCreate:oe=function(a){D&&console.log("onCreate: "+a)}}=e,{selectFirstIfEmpty:le=!1}=e,{minCharactersToSearch:H=1}=e,{maxItemsToShowInList:L=0}=e,{multiple:q=!1}=e,{create:G=!1}=e,{ignoreAccents:R=!0}=e,{matchAllKeywords:ae=!0}=e,{sortByMatchedKeywords:w=!1}=e,{itemFilterFunction:N=void 0}=e,{itemSortFunction:$=void 0}=e,{lock:ne=!1}=e,{delay:ue=0}=e,{localFiltering:pe=!0}=e,{localSorting:we=!0}=e,{cleanUserText:nt=!0}=e,{closeOnBlur:st=!1}=e,{hideArrow:pt=!1}=e,{showClear:ot=!1}=e,{showLoadingIndicator:wt=!1}=e,{noResultsText:kt="No results found"}=e,{loadingText:vt="Loading results..."}=e,{moreItemsText:yt="items not shown"}=e,{createText:It="Not found, add anyway?"}=e,{placeholder:St=void 0}=e,{className:Et=void 0}=e,{inputClassName:Ft=void 0}=e,{inputId:Ee=void 0}=e,{name:Ct=void 0}=e,{selectName:Tt=void 0}=e,{selectId:Nt=void 0}=e,{title:Dt=void 0}=e,{html5autocomplete:At=void 0}=e,{readonly:qt=void 0}=e,{dropdownClassName:Lt=void 0}=e,{disabled:Vt=!1}=e,{noInputStyles:Bt=!1}=e,{required:Kt=null}=e,{debug:D=!1}=e,{tabindex:Mt=0}=e,{selectedItem:z=q?[]:void 0}=e,{value:it=void 0}=e,{highlightedItem:rt=void 0}=e;const zt="sautocomplete-"+Math.floor(Math.random()*1e3);let ge,Fe,ke=!1,Ge=!1,Y=-1,{text:se}=e,Je=0,x,ie=[],at=0,ve=0,ut;function ft(a){return tt(b,a)}function Dl(a){const C=tt(k,a);let T=tt(d,C);return T=T.toLowerCase().trim(),R&&(T=lt(T)),D&&console.log("Extracted keywords: '"+T+"' from item: "+JSON.stringify(a)),T}function We(){let a;D&&(a=`Autocomplete prepare list ${Ee?`(id: ${Ee})`:""}`,console.time(a),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(r))),Array.isArray(r)||(console.warn("Autocomplete items / search function did not return array but",r),t(0,r=[]));const C=r?r.length:0;ie=new Array(C),C>0&&r.forEach((T,O)=>{const ee=Al(T);ee===void 0&&console.log("Undefined item for: ",T),ie[O]=ee}),t(31,x=ie),D&&(console.log(ie.length+" items to search"),console.timeEnd(a))}function Al(a){return{keywords:pe?Dl(a):[],label:ft(a),item:a}}function ql(){t(2,it=_(z)),t(3,se=q?"":ft(z)),t(31,x=ie),y(z)}function Ll(a){if(a==null)return"";if(!nt)return a;const C=a.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return tt(I,C).toLowerCase().trim()}async function Ot(){let a;D&&(a=`Autocomplete search ${Ee?`(id: ${Ee})`:""}`,console.time(a),console.log("Searching user entered text: '"+se+"'"));let C=Ll(se);if(H>1&&C.length<H&&(C=""),t(81,Je=C.length),D&&console.log("Changed user entered text '"+se+"' into '"+C+"'"),C===""){u?(t(0,r=[]),D&&console.log("User entered text is empty clear list of items")):(t(31,x=ie),D&&console.log("User entered text is empty set the list of items to all items")),Wt(),D&&console.timeEnd(a);return}if(!u)Ye(C);else{at=at+1;const T=at;if(t(34,Ge=!0),u.constructor.name==="AsyncGeneratorFunction"){for await(const O of u(C,L)){if(T<ve)return!1;T>ve&&t(0,r=[]),ve=T,t(0,r=[...r,...O]),Ye(C)}ve<T&&(ve=T,t(0,r=[]),Ye(C))}else{let O=await u(C,L);if(T<ve)return!1;ve=T,t(0,r=O),Ye(C)}t(34,Ge=!1)}D&&(console.timeEnd(a),console.log("Search found "+x.length+" items"))}function Vl(a,C){const T=_t(a,C);return ae?T>=C.length:T>0}function Ye(a){We();const T=(R?lt(a):a).split(/\s+/g).filter(re=>re!=="");let O;pe?(N?O=ie.filter(re=>N(re.item,T)):O=ie.filter(re=>Vl(re,T)),we&&($?O=O.sort((re,Me)=>$(re.item,Me.item,T)):w&&(O=O.sort((re,Me)=>Kn(re,Me,T))))):O=ie;const ee=Yt(T,"label");return t(31,x=O.map(ee)),Wt(),!0}function Pt(a){let C;if(D&&console.log("createdItem",a),typeof a<"u"){We(),t(31,x=ie);let T=Gt(a,x);T<=0&&(t(0,r=[a]),We(),t(31,x=ie),T=0),T>=0&&(t(30,Y=T),C=x[Y])}return C}function ct(a){if(D&&console.log("selectListItem",a),typeof a>"u"&&G){const T=oe(se);if(typeof T<"u"){if(typeof T.then=="function")return T.then(O=>{if(typeof O<"u"){const ee=Pt(O);typeof ee<"u"&&ct(ee)}}),!0;a=Pt(T)}}if(typeof a>"u")return D&&console.log("listItem is undefined. Can not select."),!1;if(ne&&z)return!0;const C=a.item;return S(z,C)&&(q?z?z.includes(C)?t(1,z=z.filter(T=>T!==C)):t(1,z=[...z,C]):t(1,z=[C]):(t(1,z=void 0),t(1,z=C))),!0}function dt(){D&&console.log("selectItem",Y);const a=x[Y];ct(a)?(D&&console.log("selectListItem true, closing"),_e(),q&&ge.focus()):D&&console.log("selectListItem false, not closing")}function Bl(){D&&console.log("up"),Xe(),Y>0&&t(30,Y--,Y),Qe()}function Kl(){D&&console.log("down"),Xe(),Y<x.length-1&&t(30,Y++,Y),Qe()}function Qe(){D&&console.log("highlight");const a=".selected";D&&console.log("Seaching DOM element: "+a+" in "+Fe);const C=Fe&&Fe.querySelector(a);C?typeof C.scrollIntoViewIfNeeded=="function"?(D&&console.log("Scrolling selected item into view"),C.scrollIntoViewIfNeeded()):C.scrollIntoView==="function"?(D&&console.log("Scrolling selected item into view"),C.scrollIntoView()):D&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):D&&console.warn("Selected item not found to scroll into view")}function Rt(a){D&&console.log("onListItemClick"),ct(a)&&(_e(),q&&ge.focus())}function Ml(a){D&&console.log("onDocumentClick"),a.composedPath().some(C=>C.classList&&C.classList.contains(zt))?(D&&console.log("onDocumentClick inside"),Qe()):(D&&console.log("onDocumentClick outside"),_e())}function zl(a){D&&console.log("onKeyDown");let C=a.key;C==="Tab"&&a.shiftKey&&(C="ShiftTab");const O={Tab:ke?_e():null,ShiftTab:ke?_e():null,ArrowDown:Kl.bind(this),ArrowUp:Bl.bind(this),Escape:Ul.bind(this),Backspace:q&&z&&z.length&&!se?Hl.bind(this):null}[C];typeof O=="function"&&O(a)}function Ol(a){D&&console.log("onKeyPress"),a.key==="Enter"&&(a.preventDefault(),Pl())}function Pl(){dt()}function Rl(a){D&&console.log("onInput"),t(3,se=a.target.value),ut&&clearTimeout(ut),ue?ut=setTimeout(Ut,ue):Ut()}function jt(a){D&&console.log("unselectItem",a),t(1,z=z.filter(C=>C!==a)),ge.focus()}function Ut(){Ot()&&(t(30,Y=0),Xe())}function jl(){D&&console.log("onInputClick"),Ht()}function Ul(a){D&&console.log("onEsc"),a.stopPropagation(),ke&&(ge.focus(),_e())}function Hl(a){D&&console.log("onBackspace"),jt(z[z.length-1])}function Gl(){D&&console.log("onFocus"),V(),Ht()}function Jl(){D&&console.log("onBlur"),st&&_e(),M()}function Ht(){if(D&&console.log("resetListToAllItemsAndOpen"),se?!ie.length&&z&&u&&Ot():t(31,x=ie),Xe(),z){D&&console.log("Searching currently selected item: "+JSON.stringify(z));const a=Gt(z,x);a>=0&&(t(30,Y=a),Qe())}}function Gt(a,C){D&&console.log("Finding index for item",a);let T=-1;for(let O=0;O<C.length;O++){const ee=C[O];if(typeof ee>"u"){D&&console.log(`listItem ${O} is undefined. Skipping.`);continue}if(D&&console.log("Item "+O+": "+JSON.stringify(ee)),a===ee.item){T=O;break}}return D&&(T>=0?console.log("Found index for item: "+T):console.warn("Not found index for item: "+a)),T}function Xe(){D&&console.log("open"),!Jt()&&t(80,ke=!0)}function _e(){D&&console.log("close"),t(80,ke=!1),t(34,Ge=!1),!se&&le&&(t(30,Y=0),dt())}function Jt(){return H>1&&Je<H}function Wt(){Jt()&&_e()}function Wl(){D&&console.log("clear"),t(3,se=""),t(1,z=q?[]:void 0),setTimeout(()=>{ge.focus(),_e()})}function Yt(a,C){return T=>{let O=T[C];const ee=Object.assign({highlighted:void 0},T);ee.highlighted=O;const re=O.toLowerCase(),Me=R?lt(re):re;if(a&&a.length){const Ze=[];for(let Ce=0;Ce<a.length;Ce++){let fe=a[Ce];R&&(fe=lt(fe));const Te=fe.length;let ce=0;do if(ce=Me.indexOf(fe,ce),ce>=0){let xe=ce+Te;Ze.push([ce,xe]),ce=xe}while(ce!==-1)}if(Ze.length>0){const Ce=new Set;for(let fe=0;fe<Ze.length;fe++){const Te=Ze[fe],ce=Te[0],xe=Te[1],en=re.substring(ce,xe);Ce.add(en)}for(let fe of Ce){if(fe==="b")continue;const Te=new RegExp("("+fe+")","ig"),ce=ee.highlighted.replace(Te,"<b>$1</b>");ee.highlighted=ce}}}return ee}}function Yl(a){return z?q?z.includes(a):a===z:!1}function Ql(a){ht[a?"unshift":"push"](()=>{ge=a,t(32,ge)})}function Xl(){se=this.value,t(3,se)}const Zl=a=>Rt(a),xl=a=>{t(30,Y=a)};function $l(a){ht[a?"unshift":"push"](()=>{Fe=a,t(33,Fe)})}return n.$$set=a=>{"items"in a&&t(0,r=a.items),"searchFunction"in a&&t(52,u=a.searchFunction),"labelFieldName"in a&&t(53,f=a.labelFieldName),"keywordsFieldName"in a&&t(54,m=a.keywordsFieldName),"valueFieldName"in a&&t(55,g=a.valueFieldName),"labelFunction"in a&&t(56,b=a.labelFunction),"keywordsFunction"in a&&t(57,k=a.keywordsFunction),"valueFunction"in a&&t(4,_=a.valueFunction),"keywordsCleanFunction"in a&&t(58,d=a.keywordsCleanFunction),"textCleanFunction"in a&&t(59,I=a.textCleanFunction),"beforeChange"in a&&t(60,S=a.beforeChange),"onChange"in a&&t(61,y=a.onChange),"onFocus"in a&&t(62,V=a.onFocus),"onBlur"in a&&t(63,M=a.onBlur),"onCreate"in a&&t(64,oe=a.onCreate),"selectFirstIfEmpty"in a&&t(65,le=a.selectFirstIfEmpty),"minCharactersToSearch"in a&&t(66,H=a.minCharactersToSearch),"maxItemsToShowInList"in a&&t(5,L=a.maxItemsToShowInList),"multiple"in a&&t(6,q=a.multiple),"create"in a&&t(7,G=a.create),"ignoreAccents"in a&&t(67,R=a.ignoreAccents),"matchAllKeywords"in a&&t(68,ae=a.matchAllKeywords),"sortByMatchedKeywords"in a&&t(69,w=a.sortByMatchedKeywords),"itemFilterFunction"in a&&t(70,N=a.itemFilterFunction),"itemSortFunction"in a&&t(71,$=a.itemSortFunction),"lock"in a&&t(8,ne=a.lock),"delay"in a&&t(72,ue=a.delay),"localFiltering"in a&&t(73,pe=a.localFiltering),"localSorting"in a&&t(74,we=a.localSorting),"cleanUserText"in a&&t(75,nt=a.cleanUserText),"closeOnBlur"in a&&t(76,st=a.closeOnBlur),"hideArrow"in a&&t(9,pt=a.hideArrow),"showClear"in a&&t(77,ot=a.showClear),"showLoadingIndicator"in a&&t(10,wt=a.showLoadingIndicator),"noResultsText"in a&&t(11,kt=a.noResultsText),"loadingText"in a&&t(12,vt=a.loadingText),"moreItemsText"in a&&t(13,yt=a.moreItemsText),"createText"in a&&t(14,It=a.createText),"placeholder"in a&&t(15,St=a.placeholder),"className"in a&&t(16,Et=a.className),"inputClassName"in a&&t(17,Ft=a.inputClassName),"inputId"in a&&t(18,Ee=a.inputId),"name"in a&&t(19,Ct=a.name),"selectName"in a&&t(20,Tt=a.selectName),"selectId"in a&&t(21,Nt=a.selectId),"title"in a&&t(22,Dt=a.title),"html5autocomplete"in a&&t(23,At=a.html5autocomplete),"readonly"in a&&t(24,qt=a.readonly),"dropdownClassName"in a&&t(25,Lt=a.dropdownClassName),"disabled"in a&&t(26,Vt=a.disabled),"noInputStyles"in a&&t(27,Bt=a.noInputStyles),"required"in a&&t(28,Kt=a.required),"debug"in a&&t(78,D=a.debug),"tabindex"in a&&t(29,Mt=a.tabindex),"selectedItem"in a&&t(1,z=a.selectedItem),"value"in a&&t(2,it=a.value),"highlightedItem"in a&&t(51,rt=a.highlightedItem),"text"in a&&t(3,se=a.text),"$$scope"in a&&t(82,i=a.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&1|n.$$.dirty[1]&2097152&&(u||We()),n.$$.dirty[0]&2&&ql(),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&1&&t(51,rt=x&&Y&&Y>=0&&Y<x.length?x[Y].item:null),n.$$.dirty[0]&1|n.$$.dirty[2]&786432&&t(36,s=ke&&(r&&r.length>0||Je>0)),n.$$.dirty[0]&322|n.$$.dirty[2]&32768&&t(35,l=ot||(ne||q)&&z)},[r,z,it,se,_,L,q,G,ne,pt,wt,kt,vt,yt,It,St,Et,Ft,Ee,Ct,Tt,Nt,Dt,At,qt,Lt,Vt,Bt,Kt,Mt,Y,x,ge,Fe,Ge,l,s,zt,ft,dt,Rt,Ml,zl,Ol,Rl,jt,jl,Gl,Jl,Wl,Yl,rt,u,f,m,g,b,k,d,I,S,y,V,M,oe,le,H,R,ae,w,N,$,ue,pe,we,nt,st,ot,D,Yt,ke,Je,i,o,Ql,Xl,Zl,xl,$l]}class zn extends Ve{constructor(e){super(),Be(this,e,Mn,Vn,Ke,{items:0,searchFunction:52,labelFieldName:53,keywordsFieldName:54,valueFieldName:55,labelFunction:56,keywordsFunction:57,valueFunction:4,keywordsCleanFunction:58,textCleanFunction:59,beforeChange:60,onChange:61,onFocus:62,onBlur:63,onCreate:64,selectFirstIfEmpty:65,minCharactersToSearch:66,maxItemsToShowInList:5,multiple:6,create:7,ignoreAccents:67,matchAllKeywords:68,sortByMatchedKeywords:69,itemFilterFunction:70,itemSortFunction:71,lock:8,delay:72,localFiltering:73,localSorting:74,cleanUserText:75,closeOnBlur:76,hideArrow:9,showClear:77,showLoadingIndicator:10,noResultsText:11,loadingText:12,moreItemsText:13,createText:14,placeholder:15,className:16,inputClassName:17,inputId:18,name:19,selectName:20,selectId:21,title:22,html5autocomplete:23,readonly:24,dropdownClassName:25,disabled:26,noInputStyles:27,required:28,debug:78,tabindex:29,selectedItem:1,value:2,highlightedItem:51,text:3,highlightFilter:79},null,[-1,-1,-1,-1])}get highlightFilter(){return this.$$.ctx[79]}}function gl(n){let e,t=be.get().name+"",s,l,o=be.get().artist+"",i,r,u;return{c(){e=E("div"),s=B(t),l=B(" by "),i=B(o),this.h()},l(f){e=F(f,"DIV",{title:!0,class:!0});var m=v(e);s=K(m,t),l=K(m," by "),i=K(m,o),m.forEach(h),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class","cursor-pointer border-blue-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(f,m){A(f,e,m),p(e,s),p(e,l),p(e,i),r||(u=Z(e,"click",n[7]),r=!0)},p:de,d(f){f&&h(e),r=!1,u()}}}function bl(n){let e,t=n[1]?"custom ":"",s,l,o=Nl(new Date,n[3])+"",i;return{c(){e=E("span"),s=B(t),l=B("audial #"),i=B(o),this.h()},l(r){e=F(r,"SPAN",{class:!0});var u=v(e);s=K(u,t),l=K(u,"audial #"),i=K(u,o),u.forEach(h),this.h()},h(){c(e,"class","my-2")},m(r,u){A(r,e,u),p(e,s),p(e,l),p(e,i)},p(r,u){u&2&&t!==(t=r[1]?"custom ":"")&&te(s,t)},d(r){r&&h(e)}}}function On(n){let e,t,s,l,o,i,r;return t=new bt({props:{title:"Share Score",className:"block mx-auto",type:"submit",$$slots:{default:[Rn]},$$scope:{ctx:n}}}),t.$on("click",n[5]),{c(){e=E("div"),De(t.$$.fragment),s=j(),l=E("p"),o=B("copied to clipboard."),this.h()},l(u){e=F(u,"DIV",{class:!0});var f=v(e);Ae(t.$$.fragment,f),s=U(f),l=F(f,"P",{class:!0});var m=v(l);o=K(m,"copied to clipboard."),m.forEach(h),f.forEach(h),this.h()},h(){c(l,"class",i=`${n[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`),c(e,"class","w-full mx-auto my-2")},m(u,f){A(u,e,f),qe(t,e,null),p(e,s),p(e,l),p(l,o),r=!0},p(u,f){const m={};f&2048&&(m.$$scope={dirty:f,ctx:u}),t.$set(m),(!r||f&4&&i!==(i=`${u[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`))&&c(l,"class",i)},i(u){r||(P(t.$$.fragment,u),r=!0)},o(u){J(t.$$.fragment,u),r=!1},d(u){u&&h(e),Le(t)}}}function Pn(n){let e,t,s;return t=new bt({props:{type:"primary",$$slots:{default:[jn]},$$scope:{ctx:n}}}),t.$on("click",n[6]),{c(){e=E("div"),De(t.$$.fragment),this.h()},l(l){e=F(l,"DIV",{class:!0});var o=v(e);Ae(t.$$.fragment,o),o.forEach(h),this.h()},h(){c(e,"class","mt-4")},m(l,o){A(l,e,o),qe(t,e,null),s=!0},p(l,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:l}),t.$set(i)},i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){J(t.$$.fragment,l),s=!1},d(l){l&&h(e),Le(t)}}}function Rn(n){let e;return{c(){e=B("share")},l(t){e=K(t,"share")},m(t,s){A(t,e,s)},d(t){t&&h(e)}}}function jn(n){let e;return{c(){e=B("Shuffle Again")},l(t){e=K(t,"Shuffle Again")},m(t,s){A(t,e,s)},d(t){t&&h(e)}}}function Un(n){let e,t=n[1]||n[0]?!X.get().correct:!Q.get().correct,s,l,o,i=n[4]()+"",r,u,f,m,g,b=t&&gl(n),k=!n[0]&&bl(n);const _=[Pn,On],d=[];function I(S,y){return S[0]?0:1}return f=I(n),m=d[f]=_[f](n),{c(){e=E("div"),b&&b.c(),s=j(),k&&k.c(),l=j(),o=E("span"),r=B(i),u=j(),m.c(),this.h()},l(S){e=F(S,"DIV",{class:!0});var y=v(e);b&&b.l(y),s=U(y),k&&k.l(y),l=U(y),o=F(y,"SPAN",{});var V=v(o);r=K(V,i),V.forEach(h),u=U(y),m.l(y),y.forEach(h),this.h()},h(){c(e,"class","py-3")},m(S,y){A(S,e,y),b&&b.m(e,null),p(e,s),k&&k.m(e,null),p(e,l),p(e,o),p(o,r),p(e,u),d[f].m(e,null),g=!0},p(S,[y]){y&3&&(t=S[1]||S[0]?!X.get().correct:!Q.get().correct),t?b?b.p(S,y):(b=gl(S),b.c(),b.m(e,s)):b&&(b.d(1),b=null),S[0]?k&&(k.d(1),k=null):k?k.p(S,y):(k=bl(S),k.c(),k.m(e,l));let V=f;f=I(S),f===V?d[f].p(S,y):(Ie(),J(d[V],1,1,()=>{d[V]=null}),Se(),m=d[f],m?m.p(S,y):(m=d[f]=_[f](S),m.c()),P(m,1),m.m(e,null))},i(S){g||(P(m),g=!0)},o(S){J(m),g=!1},d(S){S&&h(e),b&&b.d(),k&&k.d(),d[f].d()}}}function Hn(n,e,t){let s,l,o;Oe(n,Xt,_=>t(8,s=_)),Oe(n,on,_=>t(9,l=_)),Oe(n,mt,_=>t(10,o=_));let{random:i}=e,{custom:r}=e,u=!1;const f=new Date("4/12/2022"),m=()=>{let _="";for(const d of(r||i?X.get().guesses:Q.get().guesses)||[])d.correct?_+="\u{1F7E9} ":d.artistCorrect?_+="\u{1F7E8} ":d.song?_+="\u{1F7E5} ":_+="\u2B1C ";for(let d=0;d<6-(r||i?X.get().attempts:Q.get().attempts);d++)_+="\u2B1B ";return _},g=()=>{let _=`${r?"custom ":""}audial #`+Nl(new Date,f);_+=`
`+m(),_+=`
`+o.url.toString(),navigator.clipboard.writeText(_),t(2,u=!0),ye.track("share-score",{result:m(),custom:r})},b=async()=>{Xt.set(!0),X.set({attempts:0,type:"random",guesses:[],date:new Date,correct:!1}),await rn(l,s)},k=()=>{window.open(`https://open.spotify.com/track/${be.get().id}`,"_blank").focus()};return n.$$set=_=>{"random"in _&&t(0,i=_.random),"custom"in _&&t(1,r=_.custom)},[i,r,u,f,m,g,b,k]}class Gn extends Ve{constructor(e){super(),Be(this,e,Hn,Un,Ke,{random:0,custom:1})}}function pl(n,e,t){const s=n.slice();return s[12]=e[t],s}function wl(n,e,t){const s=n.slice();return s[12]=e[t],s}function kl(n){let e,t,s;return{c(){e=E("div"),t=E("span"),s=B("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(l){e=F(l,"DIV",{class:!0});var o=v(e);t=F(o,"SPAN",{class:!0});var i=v(t);s=K(i,"listen to the song and try to guess it correctly. you have 6 attempts."),i.forEach(h),o.forEach(h),this.h()},h(){c(t,"class","text-center mx-auto w-full text-blue-100"),c(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(l,o){A(l,e,o),p(e,t),p(t,s)},d(l){l&&h(e)}}}function vl(n){let e,t,s=n[2].guesses.filter(Sl),l=[];for(let r=0;r<s.length;r+=1)l[r]=yl(wl(n,s,r));let o=n[2].guesses.filter(El),i=[];for(let r=0;r<o.length;r+=1)i[r]=Il(pl(n,o,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=j();for(let r=0;r<i.length;r+=1)i[r].c();t=W()},l(r){for(let u=0;u<l.length;u+=1)l[u].l(r);e=U(r);for(let u=0;u<i.length;u+=1)i[u].l(r);t=W()},m(r,u){for(let f=0;f<l.length;f+=1)l[f].m(r,u);A(r,e,u);for(let f=0;f<i.length;f+=1)i[f].m(r,u);A(r,t,u)},p(r,u){if(u&4){s=r[2].guesses.filter(Sl);let f;for(f=0;f<s.length;f+=1){const m=wl(r,s,f);l[f]?l[f].p(m,u):(l[f]=yl(m),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}if(u&4){o=r[2].guesses.filter(El);let f;for(f=0;f<o.length;f+=1){const m=pl(r,o,f);i[f]?i[f].p(m,u):(i[f]=Il(m),i[f].c(),i[f].m(t.parentNode,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}},d(r){Pe(l,r),r&&h(e),Pe(i,r),r&&h(t)}}}function Jn(n){let e,t;return{c(){e=E("div"),t=B("song guess skipped"),this.h()},l(s){e=F(s,"DIV",{class:!0});var l=v(e);t=K(l,"song guess skipped"),l.forEach(h),this.h()},h(){c(e,"class","border-gray-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(s,l){A(s,e,l),p(e,t)},p:de,d(s){s&&h(e)}}}function Wn(n){let e,t=n[12].song.name+"",s,l,o=n[12].song.artist+"",i,r,u,f;function m(){return n[7](n[12])}return{c(){e=E("div"),s=B(t),l=B(" by "),i=B(o),this.h()},l(g){e=F(g,"DIV",{title:!0,class:!0});var b=v(e);s=K(b,t),l=K(b," by "),i=K(b,o),b.forEach(h),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class",r=`cursor-pointer ${n[12].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(g,b){A(g,e,b),p(e,s),p(e,l),p(e,i),u||(f=Z(e,"click",m),u=!0)},p(g,b){n=g,b&4&&t!==(t=n[12].song.name+"")&&te(s,t),b&4&&o!==(o=n[12].song.artist+"")&&te(i,o),b&4&&r!==(r=`cursor-pointer ${n[12].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&c(e,"class",r)},d(g){g&&h(e),u=!1,f()}}}function yl(n){let e;function t(o,i){return o[12].song?Wn:Jn}let s=t(n),l=s(n);return{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,i){l.m(o,i),A(o,e,i)},p(o,i){s===(s=t(o))&&l?l.p(o,i):(l.d(1),l=s(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&h(e)}}}function Il(n){let e,t=n[12].song.name+"",s,l,o=n[12].song.artist+"",i,r,u,f;function m(){return n[8](n[12])}return{c(){e=E("div"),s=B(t),l=B(" by "),i=B(o),r=j(),this.h()},l(g){e=F(g,"DIV",{title:!0,class:!0});var b=v(e);s=K(b,t),l=K(b," by "),i=K(b,o),r=U(b),b.forEach(h),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(g,b){A(g,e,b),p(e,s),p(e,l),p(e,i),p(e,r),u||(f=Z(e,"click",m),u=!0)},p(g,b){n=g,b&4&&t!==(t=n[12].song.name+"")&&te(s,t),b&4&&o!==(o=n[12].song.artist+"")&&te(i,o)},d(g){g&&h(e),u=!1,f()}}}function Yn(n){let e,t;return e=new Gn({props:{custom:n[1],random:n[0]}}),{c(){De(e.$$.fragment)},l(s){Ae(e.$$.fragment,s)},m(s,l){qe(e,s,l),t=!0},p(s,l){const o={};l&2&&(o.custom=s[1]),l&1&&(o.random=s[0]),e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){J(e.$$.fragment,s),t=!1},d(s){Le(e,s)}}}function Qn(n){let e,t,s,l,o,i,r,u,f,m,g,b;function k(d){n[9](d)}let _={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-n[2].attempts} ${6-n[2].attempts!==1?"attempts":"attempt"} left`,minCharactersToSearch:2,searchFunction:n[6],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[xn],"no-results":[Zn],item:[Xn,({item:d})=>({11:d}),({item:d})=>d?2048:0]},$$scope:{ctx:n}};return n[3]!==void 0&&(_.selectedItem=n[3]),t=new zn({props:_}),ht.push(()=>nn(t,"selectedItem",k)),i=new bt({props:{title:"Submit Song Guess",type:"primary",className:"w-full",$$slots:{default:[$n]},$$scope:{ctx:n}}}),i.$on("click",n[4]),{c(){e=E("div"),De(t.$$.fragment),l=j(),o=E("div"),De(i.$$.fragment),r=j(),u=E("div"),f=B("skip"),this.h()},l(d){e=F(d,"DIV",{class:!0,title:!0});var I=v(e);Ae(t.$$.fragment,I),l=U(I),o=F(I,"DIV",{class:!0,title:!0});var S=v(o);Ae(i.$$.fragment,S),r=U(S),u=F(S,"DIV",{class:!0});var y=v(u);f=K(y,"skip"),y.forEach(h),S.forEach(h),I.forEach(h),this.h()},h(){c(u,"class","text-gray-400 cursor-pointer text-center underline underline-offset-1"),c(o,"class","w-2/12 pl-4 mt-0.5"),c(o,"title","guess selected song"),c(e,"class","flex mt-6 mb-2"),c(e,"title","guess a song")},m(d,I){A(d,e,I),qe(t,e,null),p(e,l),p(e,o),qe(i,o,null),p(o,r),p(o,u),p(u,f),m=!0,g||(b=Z(u,"click",n[5]),g=!0)},p(d,I){const S={};I&4&&(S.placeholder=`${6-d[2].attempts} ${6-d[2].attempts!==1?"attempts":"attempt"} left`),I&133120&&(S.$$scope={dirty:I,ctx:d}),!s&&I&8&&(s=!0,S.selectedItem=d[3],sn(()=>s=!1)),t.$set(S);const y={};I&131072&&(y.$$scope={dirty:I,ctx:d}),i.$set(y)},i(d){m||(P(t.$$.fragment,d),P(i.$$.fragment,d),m=!0)},o(d){J(t.$$.fragment,d),J(i.$$.fragment,d),m=!1},d(d){d&&h(e),Le(t),Le(i),g=!1,b()}}}function Xn(n){let e,t,s=n[11].name+"",l;return{c(){e=E("div"),t=E("span"),l=B(s),this.h()},l(o){e=F(o,"DIV",{slot:!0,class:!0});var i=v(e);t=F(i,"SPAN",{});var r=v(t);l=K(r,s),r.forEach(h),i.forEach(h),this.h()},h(){c(e,"slot","item"),c(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(o,i){A(o,e,i),p(e,t),p(t,l)},p(o,i){i&2048&&s!==(s=o[11].name+"")&&te(l,s)},d(o){o&&h(e)}}}function Zn(n){let e,t,s;return{c(){e=E("div"),t=E("span"),s=B("could not find this song in the playlist."),this.h()},l(l){e=F(l,"DIV",{slot:!0,class:!0});var o=v(e);t=F(o,"SPAN",{});var i=v(t);s=K(i,"could not find this song in the playlist."),i.forEach(h),o.forEach(h),this.h()},h(){c(e,"slot","no-results"),c(e,"class","py-1")},m(l,o){A(l,e,o),p(e,t),p(t,s)},p:de,d(l){l&&h(e)}}}function xn(n){let e,t,s;return{c(){e=E("div"),t=E("span"),s=B("searching for songs..."),this.h()},l(l){e=F(l,"DIV",{slot:!0,class:!0});var o=v(e);t=F(o,"SPAN",{});var i=v(t);s=K(i,"searching for songs..."),i.forEach(h),o.forEach(h),this.h()},h(){c(e,"slot","loading"),c(e,"class","py-1")},m(l,o){A(l,e,o),p(e,t),p(t,s)},p:de,d(l){l&&h(e)}}}function $n(n){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(s){e=me(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=v(e);t=me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(h),l.forEach(h),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-6 w-6 mx-auto"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor"),c(e,"stroke-width","2")},m(s,l){A(s,e,l),p(e,t)},p:de,d(s){s&&h(e)}}}function es(n){let e,t,s,l,o,i,r,u=n[2].attempts===0&&kl(),f=n[2].guesses&&vl(n);const m=[Qn,Yn],g=[];function b(k,_){return k[2].attempts<6&&!k[2].correct?0:1}return o=b(n),i=g[o]=m[o](n),{c(){e=E("div"),u&&u.c(),t=j(),s=E("div"),f&&f.c(),l=j(),i.c(),this.h()},l(k){e=F(k,"DIV",{});var _=v(e);u&&u.l(_),t=U(_),s=F(_,"DIV",{class:!0});var d=v(s);f&&f.l(d),l=U(d),i.l(d),d.forEach(h),_.forEach(h),this.h()},h(){c(s,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(k,_){A(k,e,_),u&&u.m(e,null),p(e,t),p(e,s),f&&f.m(s,null),p(s,l),g[o].m(s,null),r=!0},p(k,[_]){k[2].attempts===0?u||(u=kl(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),k[2].guesses?f?f.p(k,_):(f=vl(k),f.c(),f.m(s,l)):f&&(f.d(1),f=null);let d=o;o=b(k),o===d?g[o].p(k,_):(Ie(),J(g[d],1,1,()=>{g[d]=null}),Se(),i=g[o],i?i.p(k,_):(i=g[o]=m[o](k),i.c()),P(i,1),i.m(s,null))},i(k){r||(P(i),r=!0)},o(k){J(i),r=!1},d(k){k&&h(e),u&&u.d(),f&&f.d(),g[o].d()}}}const Sl=n=>!n.correct,El=n=>n.correct;function ts(n,e,t){let s;Oe(n,an,_=>t(10,s=_));let{random:l=!1}=e,o={},{custom:i=!1}=e;Fl(async()=>{(new Date(Q.get().date).toLocaleDateString()!==new Date().toLocaleDateString()||!Q)&&Q.set({guesses:[],date:new Date,correct:!1,attempts:0}),i||l?(t(2,o=X.get()),X.listen(_=>t(2,o=_))):(t(2,o=Q.get()),Q.listen(_=>t(2,o=_))),l&&i?X.setKey("type","custom_random"):l?X.setKey("type","random"):i?X.setKey("type","custom"):Q.setKey("type","default")});let r={};const u=()=>{if(!r||!r.id){un.push("Please select a valid song from the list.",{theme:{"--toastWidth":"20rem","--toastBackground":"#e64949","--toastBarBackground":"#C53030"}});return}const _=[...o.guesses||[]];if(r.id===be.get().id)_.push({song:be.get(),correct:!0,artistCorrect:!0}),i||l?(X.setKey("guesses",_),X.setKey("correct",!0),X.setKey("attempts",o.attempts+1)):(Q.setKey("guesses",_),Q.setKey("correct",!0),Q.setKey("attempts",o.attempts+1)),ye.track("guess-song",{correct:!0,custom:i,random:l}),ye.track("attempt-correct",{custom:i,random:l}),et.set({array:[...et.get().array,o]});else{const d=s.find(I=>I.id==r.id);_.push({song:Zt(d),correct:!1,artistCorrect:r.artist.includes(be.get().artist)}),i||l?(X.setKey("guesses",_),X.setKey("attempts",o.attempts+1)):(Q.setKey("guesses",_),Q.setKey("attempts",o.attempts+1)),ye.track("guess-song",{correct:!1,custom:i,random:l})}o.attempts===6&&!o.correct&&(ye.track("attempt-fail",{custom:i,random:l}),et.set({array:[...et.get().array,o]})),t(3,r=void 0),ze.set(!0)},f=()=>{const _=[...o.guesses||[]];_.push({song:null,correct:!1,artistCorrect:!1}),i||l?(X.setKey("guesses",_),X.setKey("attempts",o.attempts+1)):(Q.setKey("guesses",_),Q.setKey("attempts",o.attempts+1)),ye.track("skip-song",{custom:i,random:l})},m=async _=>{let d=s.filter(I=>(I.name+" "+I.artists[0].name).toLowerCase().includes(_.toLowerCase()));return d=d.map(I=>Zt(I)),d=d.map(I=>({name:I.name+" by "+I.artist,id:I.id,artist:I.artist,preview:I.preview})),d},g=_=>{window.open(`https://open.spotify.com/track/${_.song.id}`,"_blank").focus()},b=_=>{window.open(`https://open.spotify.com/track/${_.song.id}`,"_blank").focus()};function k(_){r=_,t(3,r)}return n.$$set=_=>{"random"in _&&t(0,l=_.random),"custom"in _&&t(1,i=_.custom)},[l,i,o,r,u,f,m,g,b,k]}class rs extends Ve{constructor(e){super(),Be(this,e,ts,es,Ke,{random:0,custom:1})}}export{is as F,rs as G,os as L};
